{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{L6id:function(l,n,e){\"use strict\";e.r(n);var t=e(\"8Y7J\");class o{}var i=e(\"pMnS\"),s=e(\"oBZk\"),u=e(\"ZZ/e\"),r=e(\"SVse\"),a=e(\"mrSG\"),d=e(\"qfBg\"),c=e(\"kl3d\"),m=e(\"MpG0\"),b=e(\"YCZo\"),p=e(\"b4R+\");class h{constructor(l,n,e,t,o,i,s,u,r){this.userSvc=l,this.router=n,this.afs=e,this.popOverCtrl=t,this.menuCtrl=o,this.platform=i,this.adMobSvc=s,this.fcm=u,this.modalCtrl=r,this.compViews=0}ngOnInit(){this.userSvc.isAuthenticated()?this.platform.ready().then(()=>{this.adMobSvc.banner(),this.fcm.getToken().then(l=>{console.log(\"*============= TOKEN =============*\"),console.log(l),console.log(\"*=================================*\")}),this.mainUser=this.afs.doc(`users/${this.userSvc.getUID()}`),this.subUser=this.mainUser.valueChanges().subscribe(l=>{this.name=l.name,this.diamonds=l.diamonds,this.userInterest=l.interest,this.userRole=l.role,\"female\"===this.userInterest&&\"companied\"==this.userRole?this.afs.collection(\"users\").ref.where(\"role\",\"==\",\"companion\").where(\"gender\",\"==\",\"female\").orderBy(\"rate\",\"desc\").get().then(l=>{l.docs.forEach(l=>{this.renderList(l)})}):\"male\"===this.userInterest&&\"companied\"==this.userRole?this.afs.collection(\"users\").ref.where(\"role\",\"==\",\"companion\").where(\"gender\",\"==\",\"male\").orderBy(\"rate\",\"desc\").get().then(l=>{l.docs.forEach(l=>{this.renderList(l)})}):\"both\"===this.userInterest&&\"companied\"==this.userRole&&this.afs.collection(\"users\").ref.where(\"role\",\"==\",\"companion\").orderBy(\"rate\",\"desc\").get().then(l=>{l.docs.forEach(l=>{this.renderList(l)})}),this.diamonds>=1e3&&this.diamonds<=9999?this.diamonds=Number(this.diamonds).toFixed(0).substr(0,1)+\".\"+Number(this.diamonds).toFixed(0).substr(1,3):this.diamonds>=1e4&&this.diamonds<=99999?this.diamonds=Number(this.diamonds).toFixed(0).substr(0,2)+\" k\":this.diamonds>=1e5&&(this.diamonds=Number(this.diamonds).toFixed(0).substr(0,3)+\" k\")})}):this.router.navigate([\"/login\"])}renderList(l){const n=document.getElementById(\"rowList\"),e=l.data().gender,t=l.data().age.toDate().getFullYear(),o=(new Date).getFullYear()-t;let i=document.createElement(\"ion-col\"),s=document.createElement(\"ion-icon\"),u=document.createElement(\"ion-card\"),r=document.createElement(\"div\"),a=document.createElement(\"img\"),d=document.createElement(\"div\"),c=document.createElement(\"h6\"),m=document.createElement(\"p\");const b=l.data().verificated;i.setAttribute(\"size\",\"6\"),u.setAttribute(\"id\",l.id),s.setAttribute(\"id\",l.id),a.setAttribute(\"id\",l.id),d.setAttribute(\"id\",l.id),c.setAttribute(\"id\",l.id),\"female\"==e?(s.setAttribute(\"name\",\"female\"),s.setAttribute(\"mode\",\"ios\"),s.style.color=\"#da70d6\"):\"male\"==e?(s.setAttribute(\"name\",\"male\"),s.setAttribute(\"mode\",\"ios\"),s.style.color=\"#0000ff\"):\"trans\"==e&&(s.setAttribute(\"name\",\"transgender\"),s.setAttribute(\"mode\",\"md\"),s.style.color=\"#a6ff00\"),s.style.position=\"absolute\",s.style.top=\"1rem\",s.style.right=\"1rem\",s.style.fontSize=\"20px\",u.style.margin=\"0\",u.style.background=\"#fff\",u.style.color=\"#fff\",r.style.width=\"100%\",r.style.objectFit=\"cover\",r.style.position=\"relative\",d.style.position=\"absolute\",d.style.bottom=\"0rem\",d.style.left=\"0rem\",d.style.padding=\"10px\",d.style.width=\"100%\",d.style.verticalAlign=\"middle\",d.style.margin=\"0 auto\",d.style.background=\"#000000\",d.style.background=\"-webkit-linear-gradient(to top, #000000bb, #00000000)\",d.style.background=\"linear-gradient(to top, #000000bb, #00000000)\",c.style.margin=\"0\",m.style.margin=\"0\",a.src=l.data().profilePic,1==b?c.innerHTML=c.textContent=l.data().name+\", \"+o+' <svg style=\"fill:white; vertical-align: top;\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" width=\"16px\" height=\"16px\" viewBox=\"0 0 509.604 509.604\" xml:space=\"preserve\"><g><g><path d=\"M34.262,333.282c8.119,6.75,14.793,15.223,14.143,20.988c-0.382,3.443-0.593,6.943-0.593,10.5    c0,52.393,41.3,94.861,92.24,94.861c6.292,0,12.431-0.65,18.37-1.885c10.002-2.074,21.812,1.941,28.888,9.793    c16.82,18.646,40.803,30.342,67.492,30.342c28.19,0,53.426-13.016,70.342-33.518c6.723-8.146,18.103-11.533,28.22-8.5    c8.166,2.447,16.811,3.768,25.751,3.768c50.939,0,92.24-42.477,92.24-94.861c0-5.861-0.535-11.59-1.549-17.145    c-1.712-9.371,2.85-21.047,10.471-28.363c18.025-17.289,29.328-41.883,29.328-69.242c0-29.787-13.368-56.323-34.263-73.698    c-8.118-6.751-14.793-15.224-14.143-20.99c0.383-3.442,0.593-6.942,0.593-10.5c0-52.393-41.301-94.86-92.24-94.86    c-6.292,0-12.431,0.65-18.369,1.884c-10.002,2.075-21.812-1.941-28.889-9.792c-16.82-18.647-40.803-30.342-67.492-30.342    c-26.688,0-50.671,11.695-67.492,30.342c-7.076,7.841-18.886,11.867-28.888,9.792c-5.938-1.234-12.078-1.884-18.37-1.884    c-50.939,0-92.24,42.477-92.24,94.86c0,5.049,0.392,10.002,1.147,14.832c1.262,8.128-4.447,18.149-12.747,24.681    C14.219,201.663,0,228.887,0,259.583C0,289.37,13.368,315.907,34.262,333.282z M131.475,263.016    c2.046-3.625,7.268-3.672,12.049,0.479l48.119,33.918c2.61,1.588,5.106,2.4,7.506,2.4c4.963,0,8.893-3.576,12.689-7.02    l153.985-154.138c9.629-10.471,18.99-14.162,25.102-10.146c2.82,1.855,4.646,4.647,5.135,7.87    c0.583,3.825-0.756,7.946-3.768,11.599l-185.149,224.91c-2.687,3.26-6.11,5.059-9.629,5.059c-4.179,0-7.965-2.516-10.404-6.895    l-54.344-97.969C130.519,269.422,130.021,265.618,131.475,263.016z\"/></g></g></svg>':c.textContent=l.data().name+\", \"+o,m.textContent=\"texto de prueba\",u.addEventListener(\"click\",l=>{this.modalView(l)}),i.appendChild(u),u.appendChild(r),r.appendChild(a),r.appendChild(d),r.appendChild(s),d.appendChild(c),d.appendChild(m),n.appendChild(i)}modalView(l){return a.__awaiter(this,void 0,void 0,(function*(){this.id=l.target.id,this.mainComp=this.afs.doc(`users/${this.id}`),this.subComp=this.mainComp.valueChanges().subscribe(l=>{this.compViews=l.views});const n=yield this.modalCtrl.create({component:p.a,componentProps:{id:this.id}});yield n.present().then(()=>{this.afs.doc(`users/${this.id}`).update({views:this.compViews+1})})}))}diamondsPop(){return a.__awaiter(this,void 0,void 0,(function*(){const l=yield this.popOverCtrl.create({component:c.a,cssClass:\"diamondsPopOver\",translucent:!0});yield l.present()}))}openMenu(){this.menuCtrl.enable(!0,\"main\"),this.menuCtrl.open(\"main\")}logout(){this.userSvc.logout()}}var g=e(\"iInd\"),f=e(\"Xr7G\"),v=t.ob({encapsulation:0,styles:[[\"ion-item[_ngcontent-%COMP%]{--background:none;--color:#ffffff}.diamonds[_ngcontent-%COMP%]{width:24px;height:24px}.diamondsCount[_ngcontent-%COMP%]{margin-left:.5rem;color:#fff}ion-content[_ngcontent-%COMP%]{--background:#ad5389;--background:-webkit-linear-gradient(to top, #511670, #ad5389);--background:linear-gradient(to top, #511670, #ad5389);--color:#fff}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:#ad5389;--color:#fff}ion-col.companionRow[_ngcontent-%COMP%]{padding:5px}ion-card.companionCard[_ngcontent-%COMP%]{margin:0;padding:0;--background:#fff!important}svg.verificatedIcon[_ngcontent-%COMP%]{fill:#fff}\"]],data:{}});function y(l){return t.Gb(0,[(l()(),t.qb(0,0,null,null,3,\"ion-grid\",[],null,null,null,s.z,s.g)),t.pb(1,49152,null,0,u.y,[t.h,t.k,t.x],null,null),(l()(),t.qb(2,0,null,0,1,\"ion-row\",[[\"id\",\"rowList\"]],null,null,null,s.H,s.o)),t.pb(3,49152,null,0,u.hb,[t.h,t.k,t.x],null,null)],null,null)}function w(l){return t.Gb(0,[(l()(),t.qb(0,0,null,null,30,\"ion-header\",[[\"mode\",\"ios\"],[\"no-border\",\"\"]],null,null,null,s.A,s.h)),t.pb(1,49152,null,0,u.z,[t.h,t.k,t.x],{mode:[0,\"mode\"]},null),(l()(),t.qb(2,0,null,0,28,\"ion-toolbar\",[[\"mode\",\"ios\"]],null,null,null,s.L,s.s)),t.pb(3,49152,null,0,u.Ab,[t.h,t.k,t.x],{mode:[0,\"mode\"]},null),(l()(),t.qb(4,0,null,0,5,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,s.v,s.c)),t.pb(5,49152,null,0,u.j,[t.h,t.k,t.x],null,null),(l()(),t.qb(6,0,null,0,3,\"ion-button\",[],null,[[null,\"click\"]],(function(l,n,e){var t=!0;return\"click\"===n&&(t=!1!==l.component.openMenu()&&t),t}),s.u,s.b)),t.pb(7,49152,null,0,u.i,[t.h,t.k,t.x],null,null),(l()(),t.qb(8,0,null,0,1,\"ion-icon\",[[\"color\",\"light\"],[\"mode\",\"ios\"],[\"name\",\"menu\"]],null,null,null,s.B,s.i)),t.pb(9,49152,null,0,u.A,[t.h,t.k,t.x],{color:[0,\"color\"],mode:[1,\"mode\"],name:[2,\"name\"]},null),(l()(),t.qb(10,0,null,0,2,\"ion-title\",[],null,null,null,s.K,s.r)),t.pb(11,49152,null,0,u.yb,[t.h,t.k,t.x],null,null),(l()(),t.Fb(-1,0,[\" Swipe \"])),(l()(),t.qb(13,0,null,0,17,\"ion-buttons\",[[\"margin-end\",\"\"],[\"slot\",\"end\"]],null,null,null,s.v,s.c)),t.pb(14,49152,null,0,u.j,[t.h,t.k,t.x],null,null),t.pb(15,16384,null,0,u.c,[t.k],null,null),(l()(),t.qb(16,0,null,0,14,\"ion-button\",[[\"mode\",\"ios\"]],null,[[null,\"click\"]],(function(l,n,e){var t=!0;return\"click\"===n&&(t=!1!==l.component.diamondsPop()&&t),t}),s.u,s.b)),t.pb(17,49152,null,0,u.i,[t.h,t.k,t.x],{mode:[0,\"mode\"]},null),(l()(),t.qb(18,0,null,0,9,\":svg:svg\",[[\":xml:space\",\"preserve\"],[\":xmlns:xlink\",\"http://www.w3.org/1999/xlink\"],[\"class\",\"diamonds\"],[\"id\",\"Layer_1\"],[\"slot\",\"start\"],[\"style\",\"enable-background:new 0 0 512 512;\"],[\"version\",\"1.1\"],[\"viewBox\",\"0 0 512 512\"],[\"x\",\"0px\"],[\"xmlns\",\"http://www.w3.org/2000/svg\"],[\"y\",\"0px\"]],null,null,null,null,null)),(l()(),t.qb(19,0,null,null,0,\":svg:polygon\",[[\"points\",\"360.129,172.138 256,472.276 512,172.138 \"],[\"style\",\"fill:#f0d4ff;\"]],null,null,null,null,null)),(l()(),t.qb(20,0,null,null,3,\":svg:g\",[],null,null,null,null,null)),(l()(),t.qb(21,0,null,null,0,\":svg:polygon\",[[\"points\",\"105.931,39.724 0,172.138 151.871,172.138  \"],[\"style\",\"fill:#e9c0ff;\"]],null,null,null,null,null)),(l()(),t.qb(22,0,null,null,0,\":svg:polygon\",[[\"points\",\"360.129,172.138 512,172.138 406.069,39.724  \"],[\"style\",\"fill:#e9c0ff;\"]],null,null,null,null,null)),(l()(),t.qb(23,0,null,null,0,\":svg:polygon\",[[\"points\",\"360.129,172.138 256,39.724 151.871,172.138  \"],[\"style\",\"fill:#e9c0ff;\"]],null,null,null,null,null)),(l()(),t.qb(24,0,null,null,0,\":svg:polygon\",[[\"points\",\"256,39.724 105.931,39.724 151.871,172.138 \"],[\"style\",\"fill:#da9ff9;\"]],null,null,null,null,null)),(l()(),t.qb(25,0,null,null,0,\":svg:polygon\",[[\"points\",\"406.069,39.724 256,39.724 360.129,172.138 \"],[\"style\",\"fill:#f0d4ff;\"]],null,null,null,null,null)),(l()(),t.qb(26,0,null,null,0,\":svg:polygon\",[[\"points\",\"151.871,172.138 256,472.276 360.129,172.138 \"],[\"style\",\"fill:#da9ff9;\"]],null,null,null,null,null)),(l()(),t.qb(27,0,null,null,0,\":svg:polygon\",[[\"points\",\"0,172.138 256,472.276 151.871,172.138 \"],[\"style\",\"fill:#c88de7;\"]],null,null,null,null,null)),(l()(),t.qb(28,0,null,0,2,\"ion-label\",[[\"class\",\"diamondsCount\"],[\"slot\",\"start\"]],null,null,null,s.E,s.l)),t.pb(29,49152,null,0,u.L,[t.h,t.k,t.x],null,null),(l()(),t.Fb(30,0,[\"\",\"\"])),(l()(),t.qb(31,0,null,null,3,\"ion-content\",[],null,null,null,s.w,s.d)),t.pb(32,49152,null,0,u.s,[t.h,t.k,t.x],null,null),(l()(),t.fb(16777216,null,0,1,null,y)),t.pb(34,16384,null,0,r.h,[t.L,t.I],{ngIf:[0,\"ngIf\"]},null)],(function(l,n){var e=n.component;l(n,1,0,\"ios\"),l(n,3,0,\"ios\"),l(n,9,0,\"light\",\"ios\",\"menu\"),l(n,17,0,\"ios\"),l(n,34,0,\"companied\"==e.userRole)}),(function(l,n){l(n,30,0,n.component.diamonds)}))}function x(l){return t.Gb(0,[(l()(),t.qb(0,0,null,null,1,\"app-home\",[],null,null,null,w,v)),t.pb(1,114688,null,0,h,[d.a,g.m,f.a,u.Jb,u.Eb,u.Ib,m.a,b.a,u.Fb],null,null)],(function(l,n){l(n,1,0)}),null)}var k=t.mb(\"app-home\",h,x,{},{},[]),C=e(\"s7LF\");e.d(n,\"HomePageModuleNgFactory\",(function(){return q}));var q=t.nb(o,[],(function(l){return t.yb([t.zb(512,t.j,t.Y,[[8,[i.a,k]],[3,t.j],t.v]),t.zb(4608,r.j,r.i,[t.s,[2,r.p]]),t.zb(4608,C.n,C.n,[]),t.zb(4608,u.a,u.a,[t.x,t.g]),t.zb(4608,u.Fb,u.Fb,[u.a,t.j,t.p]),t.zb(4608,u.Jb,u.Jb,[u.a,t.j,t.p]),t.zb(1073742336,r.b,r.b,[]),t.zb(1073742336,C.m,C.m,[]),t.zb(1073742336,C.f,C.f,[]),t.zb(1073742336,u.Cb,u.Cb,[]),t.zb(1073742336,g.n,g.n,[[2,g.s],[2,g.m]]),t.zb(1073742336,o,o,[]),t.zb(1024,g.k,(function(){return[[{path:\"\",component:h}]]}),[])])}))}}]);","extractedComments":[]}