{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{L6id:function(n,l,e){\"use strict\";e.r(l);var t=e(\"CcnG\"),o=function(){return function(){}}(),u=e(\"pMnS\"),i=e(\"oBZk\"),s=e(\"ZZ/e\"),r=e(\"Ip0R\"),a=e(\"mrSG\"),c=e(\"qfBg\"),d=e(\"kl3d\"),m=e(\"MpG0\"),b=e(\"YCZo\"),p=e(\"b4R+\"),f=function(){function n(n,l,e,t,o,u,i,s,r){this.userSvc=n,this.router=l,this.afs=e,this.popOverCtrl=t,this.menuCtrl=o,this.platform=u,this.adMobSvc=i,this.fcm=s,this.modalCtrl=r,this.compViews=0}return n.prototype.ngOnInit=function(){var n=this;this.userSvc.isAuthenticated()?this.platform.ready().then((function(){n.adMobSvc.banner(),n.fcm.getToken().then((function(n){console.log(\"*============= TOKEN =============*\"),console.log(n),console.log(\"*=================================*\")})),n.mainUser=n.afs.doc(\"users/\"+n.userSvc.getUID()),n.subUser=n.mainUser.valueChanges().subscribe((function(l){n.name=l.name,n.diamonds=l.diamonds,n.userInterest=l.interest,n.userRole=l.role,\"female\"===n.userInterest&&\"companied\"==n.userRole?n.afs.collection(\"users\").ref.where(\"role\",\"==\",\"companion\").where(\"gender\",\"==\",\"female\").orderBy(\"rate\",\"desc\").get().then((function(l){l.docs.forEach((function(l){n.renderList(l)}))})):\"male\"===n.userInterest&&\"companied\"==n.userRole?n.afs.collection(\"users\").ref.where(\"role\",\"==\",\"companion\").where(\"gender\",\"==\",\"male\").orderBy(\"rate\",\"desc\").get().then((function(l){l.docs.forEach((function(l){n.renderList(l)}))})):\"both\"===n.userInterest&&\"companied\"==n.userRole&&n.afs.collection(\"users\").ref.where(\"role\",\"==\",\"companion\").orderBy(\"rate\",\"desc\").get().then((function(l){l.docs.forEach((function(l){n.renderList(l)}))})),n.diamonds>=1e3&&n.diamonds<=9999?n.diamonds=Number(n.diamonds).toFixed(0).substr(0,1)+\".\"+Number(n.diamonds).toFixed(0).substr(1,3):n.diamonds>=1e4&&n.diamonds<=99999?n.diamonds=Number(n.diamonds).toFixed(0).substr(0,2)+\" k\":n.diamonds>=1e5&&(n.diamonds=Number(n.diamonds).toFixed(0).substr(0,3)+\" k\")}))})):this.router.navigate([\"/login\"])},n.prototype.renderList=function(n){var l=this,e=document.getElementById(\"rowList\"),t=n.data().gender,o=n.data().age.toDate().getFullYear(),u=(new Date).getFullYear()-o,i=document.createElement(\"ion-col\"),s=document.createElement(\"ion-icon\"),r=document.createElement(\"ion-card\"),a=document.createElement(\"div\"),c=document.createElement(\"img\"),d=document.createElement(\"div\"),m=document.createElement(\"h6\"),b=document.createElement(\"p\"),p=n.data().verificated;i.setAttribute(\"size\",\"6\"),r.setAttribute(\"id\",n.id),s.setAttribute(\"id\",n.id),c.setAttribute(\"id\",n.id),d.setAttribute(\"id\",n.id),m.setAttribute(\"id\",n.id),\"female\"==t?(s.setAttribute(\"name\",\"female\"),s.setAttribute(\"mode\",\"ios\"),s.style.color=\"#da70d6\"):\"male\"==t?(s.setAttribute(\"name\",\"male\"),s.setAttribute(\"mode\",\"ios\"),s.style.color=\"#0000ff\"):\"trans\"==t&&(s.setAttribute(\"name\",\"transgender\"),s.setAttribute(\"mode\",\"md\"),s.style.color=\"#a6ff00\"),s.style.position=\"absolute\",s.style.top=\"1rem\",s.style.right=\"1rem\",s.style.fontSize=\"20px\",r.style.margin=\"0\",r.style.background=\"#fff\",r.style.color=\"#fff\",a.style.width=\"100%\",a.style.objectFit=\"cover\",a.style.position=\"relative\",d.style.position=\"absolute\",d.style.bottom=\"0rem\",d.style.left=\"0rem\",d.style.padding=\"10px\",d.style.width=\"100%\",d.style.verticalAlign=\"middle\",d.style.margin=\"0 auto\",d.style.background=\"#000000\",d.style.background=\"-webkit-linear-gradient(to top, #000000bb, #00000000)\",d.style.background=\"linear-gradient(to top, #000000bb, #00000000)\",m.style.margin=\"0\",b.style.margin=\"0\",c.src=n.data().profilePic,1==p?m.innerHTML=m.textContent=n.data().name+\", \"+u+' <svg style=\"fill:white; vertical-align: top;\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" width=\"16px\" height=\"16px\" viewBox=\"0 0 509.604 509.604\" xml:space=\"preserve\"><g><g><path d=\"M34.262,333.282c8.119,6.75,14.793,15.223,14.143,20.988c-0.382,3.443-0.593,6.943-0.593,10.5    c0,52.393,41.3,94.861,92.24,94.861c6.292,0,12.431-0.65,18.37-1.885c10.002-2.074,21.812,1.941,28.888,9.793    c16.82,18.646,40.803,30.342,67.492,30.342c28.19,0,53.426-13.016,70.342-33.518c6.723-8.146,18.103-11.533,28.22-8.5    c8.166,2.447,16.811,3.768,25.751,3.768c50.939,0,92.24-42.477,92.24-94.861c0-5.861-0.535-11.59-1.549-17.145    c-1.712-9.371,2.85-21.047,10.471-28.363c18.025-17.289,29.328-41.883,29.328-69.242c0-29.787-13.368-56.323-34.263-73.698    c-8.118-6.751-14.793-15.224-14.143-20.99c0.383-3.442,0.593-6.942,0.593-10.5c0-52.393-41.301-94.86-92.24-94.86    c-6.292,0-12.431,0.65-18.369,1.884c-10.002,2.075-21.812-1.941-28.889-9.792c-16.82-18.647-40.803-30.342-67.492-30.342    c-26.688,0-50.671,11.695-67.492,30.342c-7.076,7.841-18.886,11.867-28.888,9.792c-5.938-1.234-12.078-1.884-18.37-1.884    c-50.939,0-92.24,42.477-92.24,94.86c0,5.049,0.392,10.002,1.147,14.832c1.262,8.128-4.447,18.149-12.747,24.681    C14.219,201.663,0,228.887,0,259.583C0,289.37,13.368,315.907,34.262,333.282z M131.475,263.016    c2.046-3.625,7.268-3.672,12.049,0.479l48.119,33.918c2.61,1.588,5.106,2.4,7.506,2.4c4.963,0,8.893-3.576,12.689-7.02    l153.985-154.138c9.629-10.471,18.99-14.162,25.102-10.146c2.82,1.855,4.646,4.647,5.135,7.87    c0.583,3.825-0.756,7.946-3.768,11.599l-185.149,224.91c-2.687,3.26-6.11,5.059-9.629,5.059c-4.179,0-7.965-2.516-10.404-6.895    l-54.344-97.969C130.519,269.422,130.021,265.618,131.475,263.016z\"/></g></g></svg>':m.textContent=n.data().name+\", \"+u,b.textContent=\"texto de prueba\",r.addEventListener(\"click\",(function(n){l.modalView(n)})),i.appendChild(r),r.appendChild(a),a.appendChild(c),a.appendChild(d),a.appendChild(s),d.appendChild(m),d.appendChild(b),e.appendChild(i)},n.prototype.modalView=function(n){return a.__awaiter(this,void 0,void 0,(function(){var l=this;return a.__generator(this,(function(e){switch(e.label){case 0:return this.id=n.target.id,this.mainComp=this.afs.doc(\"users/\"+this.id),this.subComp=this.mainComp.valueChanges().subscribe((function(n){l.compViews=n.views})),[4,this.modalCtrl.create({component:p.a,componentProps:{id:this.id}})];case 1:return[4,e.sent().present().then((function(){l.afs.doc(\"users/\"+l.id).update({views:l.compViews+1})}))];case 2:return e.sent(),[2]}}))}))},n.prototype.diamondsPop=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(n){switch(n.label){case 0:return[4,this.popOverCtrl.create({component:d.a,cssClass:\"diamondsPopOver\",translucent:!0})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}}))}))},n.prototype.openMenu=function(){this.menuCtrl.enable(!0,\"main\"),this.menuCtrl.open(\"main\")},n.prototype.logout=function(){this.userSvc.logout()},n}(),g=e(\"ZYCi\"),h=e(\"fvl4\"),v=t.qb({encapsulation:0,styles:[[\"ion-item[_ngcontent-%COMP%]{--background:none;--color:#ffffff}.diamonds[_ngcontent-%COMP%]{width:24px;height:24px}.diamondsCount[_ngcontent-%COMP%]{margin-left:.5rem;color:#fff}ion-content[_ngcontent-%COMP%]{--background:#ad5389;--background:-webkit-linear-gradient(to top, #511670, #ad5389);--background:linear-gradient(to top, #511670, #ad5389);--color:#fff}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:#ad5389;--color:#fff}ion-col.companionRow[_ngcontent-%COMP%]{padding:5px}ion-card.companionCard[_ngcontent-%COMP%]{margin:0;padding:0;--background:#fff!important}svg.verificatedIcon[_ngcontent-%COMP%]{fill:#fff}\"]],data:{}});function y(n){return t.Ib(0,[(n()(),t.sb(0,0,null,null,3,\"ion-grid\",[],null,null,null,i.z,i.g)),t.rb(1,49152,null,0,s.y,[t.h,t.k,t.z],null,null),(n()(),t.sb(2,0,null,0,1,\"ion-row\",[[\"id\",\"rowList\"]],null,null,null,i.H,i.o)),t.rb(3,49152,null,0,s.hb,[t.h,t.k,t.z],null,null)],null,null)}function w(n){return t.Ib(0,[(n()(),t.sb(0,0,null,null,30,\"ion-header\",[[\"mode\",\"ios\"],[\"no-border\",\"\"]],null,null,null,i.A,i.h)),t.rb(1,49152,null,0,s.z,[t.h,t.k,t.z],{mode:[0,\"mode\"]},null),(n()(),t.sb(2,0,null,0,28,\"ion-toolbar\",[[\"mode\",\"ios\"]],null,null,null,i.L,i.s)),t.rb(3,49152,null,0,s.Ab,[t.h,t.k,t.z],{mode:[0,\"mode\"]},null),(n()(),t.sb(4,0,null,0,5,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,i.v,i.c)),t.rb(5,49152,null,0,s.j,[t.h,t.k,t.z],null,null),(n()(),t.sb(6,0,null,0,3,\"ion-button\",[],null,[[null,\"click\"]],(function(n,l,e){var t=!0;return\"click\"===l&&(t=!1!==n.component.openMenu()&&t),t}),i.u,i.b)),t.rb(7,49152,null,0,s.i,[t.h,t.k,t.z],null,null),(n()(),t.sb(8,0,null,0,1,\"ion-icon\",[[\"color\",\"light\"],[\"mode\",\"ios\"],[\"name\",\"menu\"]],null,null,null,i.B,i.i)),t.rb(9,49152,null,0,s.A,[t.h,t.k,t.z],{color:[0,\"color\"],mode:[1,\"mode\"],name:[2,\"name\"]},null),(n()(),t.sb(10,0,null,0,2,\"ion-title\",[],null,null,null,i.K,i.r)),t.rb(11,49152,null,0,s.yb,[t.h,t.k,t.z],null,null),(n()(),t.Hb(-1,0,[\" Swipe \"])),(n()(),t.sb(13,0,null,0,17,\"ion-buttons\",[[\"margin-end\",\"\"],[\"slot\",\"end\"]],null,null,null,i.v,i.c)),t.rb(14,49152,null,0,s.j,[t.h,t.k,t.z],null,null),t.rb(15,16384,null,0,s.c,[t.k],null,null),(n()(),t.sb(16,0,null,0,14,\"ion-button\",[[\"mode\",\"ios\"]],null,[[null,\"click\"]],(function(n,l,e){var t=!0;return\"click\"===l&&(t=!1!==n.component.diamondsPop()&&t),t}),i.u,i.b)),t.rb(17,49152,null,0,s.i,[t.h,t.k,t.z],{mode:[0,\"mode\"]},null),(n()(),t.sb(18,0,null,0,9,\":svg:svg\",[[\":xml:space\",\"preserve\"],[\":xmlns:xlink\",\"http://www.w3.org/1999/xlink\"],[\"class\",\"diamonds\"],[\"id\",\"Layer_1\"],[\"slot\",\"start\"],[\"style\",\"enable-background:new 0 0 512 512;\"],[\"version\",\"1.1\"],[\"viewBox\",\"0 0 512 512\"],[\"x\",\"0px\"],[\"xmlns\",\"http://www.w3.org/2000/svg\"],[\"y\",\"0px\"]],null,null,null,null,null)),(n()(),t.sb(19,0,null,null,0,\":svg:polygon\",[[\"points\",\"360.129,172.138 256,472.276 512,172.138 \"],[\"style\",\"fill:#f0d4ff;\"]],null,null,null,null,null)),(n()(),t.sb(20,0,null,null,3,\":svg:g\",[],null,null,null,null,null)),(n()(),t.sb(21,0,null,null,0,\":svg:polygon\",[[\"points\",\"105.931,39.724 0,172.138 151.871,172.138  \"],[\"style\",\"fill:#e9c0ff;\"]],null,null,null,null,null)),(n()(),t.sb(22,0,null,null,0,\":svg:polygon\",[[\"points\",\"360.129,172.138 512,172.138 406.069,39.724  \"],[\"style\",\"fill:#e9c0ff;\"]],null,null,null,null,null)),(n()(),t.sb(23,0,null,null,0,\":svg:polygon\",[[\"points\",\"360.129,172.138 256,39.724 151.871,172.138  \"],[\"style\",\"fill:#e9c0ff;\"]],null,null,null,null,null)),(n()(),t.sb(24,0,null,null,0,\":svg:polygon\",[[\"points\",\"256,39.724 105.931,39.724 151.871,172.138 \"],[\"style\",\"fill:#da9ff9;\"]],null,null,null,null,null)),(n()(),t.sb(25,0,null,null,0,\":svg:polygon\",[[\"points\",\"406.069,39.724 256,39.724 360.129,172.138 \"],[\"style\",\"fill:#f0d4ff;\"]],null,null,null,null,null)),(n()(),t.sb(26,0,null,null,0,\":svg:polygon\",[[\"points\",\"151.871,172.138 256,472.276 360.129,172.138 \"],[\"style\",\"fill:#da9ff9;\"]],null,null,null,null,null)),(n()(),t.sb(27,0,null,null,0,\":svg:polygon\",[[\"points\",\"0,172.138 256,472.276 151.871,172.138 \"],[\"style\",\"fill:#c88de7;\"]],null,null,null,null,null)),(n()(),t.sb(28,0,null,0,2,\"ion-label\",[[\"class\",\"diamondsCount\"],[\"slot\",\"start\"]],null,null,null,i.E,i.l)),t.rb(29,49152,null,0,s.L,[t.h,t.k,t.z],null,null),(n()(),t.Hb(30,0,[\"\",\"\"])),(n()(),t.sb(31,0,null,null,3,\"ion-content\",[],null,null,null,i.w,i.d)),t.rb(32,49152,null,0,s.s,[t.h,t.k,t.z],null,null),(n()(),t.hb(16777216,null,0,1,null,y)),t.rb(34,16384,null,0,r.h,[t.N,t.K],{ngIf:[0,\"ngIf\"]},null)],(function(n,l){var e=l.component;n(l,1,0,\"ios\"),n(l,3,0,\"ios\"),n(l,9,0,\"light\",\"ios\",\"menu\"),n(l,17,0,\"ios\"),n(l,34,0,\"companied\"==e.userRole)}),(function(n,l){n(l,30,0,l.component.diamonds)}))}function C(n){return t.Ib(0,[(n()(),t.sb(0,0,null,null,1,\"app-home\",[],null,null,null,w,v)),t.rb(1,114688,null,0,f,[c.a,g.m,h.a,s.Jb,s.Eb,s.Ib,m.a,b.a,s.Fb],null,null)],(function(n,l){n(l,1,0)}),null)}var k=t.ob(\"app-home\",f,C,{},{},[]),x=e(\"gIcY\");e.d(l,\"HomePageModuleNgFactory\",(function(){return B}));var B=t.pb(o,[],(function(n){return t.Ab([t.Bb(512,t.j,t.ab,[[8,[u.a,k]],[3,t.j],t.x]),t.Bb(4608,r.j,r.i,[t.u,[2,r.p]]),t.Bb(4608,x.n,x.n,[]),t.Bb(4608,s.a,s.a,[t.z,t.g]),t.Bb(4608,s.Fb,s.Fb,[s.a,t.j,t.q]),t.Bb(4608,s.Jb,s.Jb,[s.a,t.j,t.q]),t.Bb(1073742336,r.b,r.b,[]),t.Bb(1073742336,x.m,x.m,[]),t.Bb(1073742336,x.f,x.f,[]),t.Bb(1073742336,s.Cb,s.Cb,[]),t.Bb(1073742336,g.n,g.n,[[2,g.s],[2,g.m]]),t.Bb(1073742336,o,o,[]),t.Bb(1024,g.k,(function(){return[[{path:\"\",component:f}]]}),[])])}))}}]);","extractedComments":[]}